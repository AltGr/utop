<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="next" href="UTop_main.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="UTop" rel="Chapter" href="UTop.html">
<link title="UTop_main" rel="Chapter" href="UTop_main.html"><link title="History" rel="Section" href="#6_History">
<link title="Console specific configuration" rel="Section" href="#6_Consolespecificconfiguration">
<link title="Hooks" rel="Section" href="#6_Hooks">
<link title="Parsing" rel="Section" href="#6_Parsing">
<link title="Helpers" rel="Section" href="#6_Helpers">
<title>API reference for utop : UTop</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="UTop_main.html" title="UTop_main">Next</a>
</div>
<h1>Module <a href="type_UTop.html">UTop</a></h1>

<pre><span class="keyword">module</span> UTop: <code class="code"><span class="keyword">sig</span></code> <a href="UTop.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
UTop configuration.<br>
</div>
<hr width="100%">

<pre><span id="VALversion"><span class="keyword">val</span> version</span> : <code class="type">string</code></pre><div class="info ">
Version of utop.<br>
</div>

<pre><span id="VALcount"><span class="keyword">val</span> count</span> : <code class="type">int React.signal</code></pre><div class="info ">
The number of commands already executed.<br>
</div>

<pre><span id="VALkeywords"><span class="keyword">val</span> keywords</span> : <code class="type">Set.Make(String).t Pervasives.ref</code></pre><div class="info ">
The set of OCaml keywords.<br>
</div>

<pre><span id="VALadd_keyword"><span class="keyword">val</span> add_keyword</span> : <code class="type">string -> unit</code></pre><div class="info ">
Add a new OCaml keyword.<br>
</div>

<pre><span id="VALrequire"><span class="keyword">val</span> require</span> : <code class="type">string list -> unit</code></pre><div class="info ">
Load all the given findlib packages<br>
</div>

<pre><code><span id="TYPEui"><span class="keyword">type</span> <code class="type"></code>ui</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTui.Console"><span class="constructor">Console</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTui.Emacs"><span class="constructor">Emacs</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
The user interface in use.<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>



<pre><span id="VALget_ui"><span class="keyword">val</span> get_ui</span> : <code class="type">unit -> <a href="UTop.html#TYPEui">ui</a></code></pre><div class="info ">
Returns the user interface in use.<br>
</div>

<pre><span id="VALhide_reserved"><span class="keyword">val</span> hide_reserved</span> : <code class="type">bool React.signal</code></pre><div class="info ">
If <code class="code"><span class="keyword">true</span></code> (the default) identifiers starting with a '_' will be hidden from the
      output. i.e. the following phrase won't produces any output:
<p>

      <pre class="codepre"><code class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;_x&nbsp;=&nbsp;1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></pre>
<p>

      This is for hidding variables created by code generators for internal use. It can
      also be set/unset by the command line options <code class="code">-hide-reserved</code> and <code class="code">-show-reserved</code>.<br>
</div>

<pre><span id="VALget_hide_reserved"><span class="keyword">val</span> get_hide_reserved</span> : <code class="type">unit -> bool</code></pre><div class="info ">
Returns the value of <a href="UTop.html#VALhide_reserved"><code class="code"><span class="constructor">UTop</span>.hide_reserved</code></a>.<br>
</div>

<pre><span id="VALset_hide_reserved"><span class="keyword">val</span> set_hide_reserved</span> : <code class="type">bool -> unit</code></pre><div class="info ">
Modifies <a href="UTop.html#VALhide_reserved"><code class="code"><span class="constructor">UTop</span>.hide_reserved</code></a>.<br>
</div>

<pre><span id="VALtopfind_verbose"><span class="keyword">val</span> topfind_verbose</span> : <code class="type">bool React.signal</code></pre><div class="info ">
If <code class="code"><span class="keyword">false</span></code> (the default) messages from findlib are hidden. This is only effective
      with findlib &gt;= 1.4.<br>
</div>

<pre><span id="VALget_topfind_verbose"><span class="keyword">val</span> get_topfind_verbose</span> : <code class="type">unit -> bool</code></pre><div class="info ">
Returns the value of <a href="UTop.html#VALtopfind_verbose"><code class="code"><span class="constructor">UTop</span>.topfind_verbose</code></a>.<br>
</div>

<pre><span id="VALset_topfind_verbose"><span class="keyword">val</span> set_topfind_verbose</span> : <code class="type">bool -> unit</code></pre><div class="info ">
Modifies <a href="UTop.html#VALtopfind_verbose"><code class="code"><span class="constructor">UTop</span>.topfind_verbose</code></a>.<br>
</div>

<pre><span id="VALtopfind_log"><span class="keyword">val</span> topfind_log</span> : <code class="type">string list React.signal</code></pre><div class="info ">
List of messages logged by findlib since the beginning of the session. This
      requires findlib &gt;= 1.4.<br>
</div>

<pre><span id="VALshow_box"><span class="keyword">val</span> show_box</span> : <code class="type">bool React.signal</code></pre><div class="info ">
If <code class="code"><span class="keyword">true</span></code> (the default) the completion bar is displayed.<br>
</div>

<pre><span id="VALget_show_box"><span class="keyword">val</span> get_show_box</span> : <code class="type">unit -> bool</code></pre><div class="info ">
Returns the value of <a href="UTop.html#VALshow_box"><code class="code"><span class="constructor">UTop</span>.show_box</code></a>.<br>
</div>

<pre><span id="VALset_show_box"><span class="keyword">val</span> set_show_box</span> : <code class="type">bool -> unit</code></pre><div class="info ">
Modifies <a href="UTop.html#VALshow_box"><code class="code"><span class="constructor">UTop</span>.show_box</code></a>.<br>
</div>

<pre><code><span id="TYPEsyntax"><span class="keyword">type</span> <code class="type"></code>syntax</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsyntax.Normal"><span class="constructor">Normal</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
No camlp4.<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsyntax.Camlp4o"><span class="constructor">Camlp4o</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Camlp4, original syntax.<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsyntax.Camlp4r"><span class="constructor">Camlp4r</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Camlp4, revised syntax.<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
Syntax.<br>
</div>


<pre><span id="VALsyntax"><span class="keyword">val</span> syntax</span> : <code class="type"><a href="UTop.html#TYPEsyntax">syntax</a> React.signal</code></pre><div class="info ">
The syntax in use. If it is <code class="code"><span class="constructor">Camlp4o</span></code> or <code class="code"><span class="constructor">Camlp4r</span></code> quotations
      are recognized. It is modified when you type <code class="code"><span class="keywordsign">#</span>camlp4o</code> or
      <code class="code"><span class="keywordsign">#</span>camlp4r</code>. At the beginning it is <code class="code"><span class="constructor">Normal</span></code>.<br>
</div>

<pre><span id="VALget_syntax"><span class="keyword">val</span> get_syntax</span> : <code class="type">unit -> <a href="UTop.html#TYPEsyntax">syntax</a></code></pre><div class="info ">
Returns the current value of <a href="UTop.html#VALsyntax"><code class="code"><span class="constructor">UTop</span>.syntax</code></a>.<br>
</div>

<pre><span id="VALset_syntax"><span class="keyword">val</span> set_syntax</span> : <code class="type"><a href="UTop.html#TYPEsyntax">syntax</a> -> unit</code></pre><div class="info ">
Changes the syntax used in utop. If the syntax is the same as
      the current one, it does nothing. Otherwise it loads camlp4 and
      setup several configuration variables.
<p>

      Notes:<ul>
<li>the syntax can only be changed once. Once you set it to
        <code class="code"><span class="constructor">Camlp4o</span></code> or <code class="code"><span class="constructor">Camlp4r</span></code> you cannot change it again.</li>
<li>Typing <code class="code"><span class="keywordsign">#</span>camlp4o</code> is the same as calling <code class="code">set_syntax <span class="constructor">Camlp4o</span></code>.</li>
<li>Typing <code class="code"><span class="keywordsign">#</span>camlp4r</code> is the same as calling <code class="code">set_syntax <span class="constructor">Camlp4r</span></code>.</li>
</ul>
<br>
</div>

<pre><span id="VALphrase_terminator"><span class="keyword">val</span> phrase_terminator</span> : <code class="type">string React.signal</code></pre><div class="info ">
The phrase terminator. It is ";;" by default and ";" when you
      use revised syntax.<br>
</div>

<pre><span id="VALget_phrase_terminator"><span class="keyword">val</span> get_phrase_terminator</span> : <code class="type">unit -> string</code></pre><div class="info ">
Returns the value of <a href="UTop.html#VALphrase_terminator"><code class="code"><span class="constructor">UTop</span>.phrase_terminator</code></a>.<br>
</div>

<pre><span id="VALset_phrase_terminator"><span class="keyword">val</span> set_phrase_terminator</span> : <code class="type">string -> unit</code></pre><div class="info ">
Modifies <a href="UTop.html#VALphrase_terminator"><code class="code"><span class="constructor">UTop</span>.phrase_terminator</code></a>.<br>
</div>

<pre><span id="VALauto_run_lwt"><span class="keyword">val</span> auto_run_lwt</span> : <code class="type">bool React.signal</code></pre><div class="info ">
If <code class="code"><span class="keyword">true</span></code> (the default) toplevel lwt expressions are
      automatically run with <code class="code"><span class="constructor">Lwt_main</span>.run</code>. i.e. if you type:
<p>

      <pre class="codepre"><code class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Lwt_io</span>.printl&nbsp;<span class="string">"Hello,&nbsp;world"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></pre>
<p>

      this will be replaced by:
<p>

      <pre class="codepre"><code class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Lwt_main</span>.run&nbsp;(<span class="constructor">Lwt_io</span>.printl&nbsp;<span class="string">"Hello,&nbsp;world"</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></pre><br>
</div>

<pre><span id="VALget_auto_run_lwt"><span class="keyword">val</span> get_auto_run_lwt</span> : <code class="type">unit -> bool</code></pre><div class="info ">
Returns the value of <a href="UTop.html#VALauto_run_lwt"><code class="code"><span class="constructor">UTop</span>.auto_run_lwt</code></a>.<br>
</div>

<pre><span id="VALset_auto_run_lwt"><span class="keyword">val</span> set_auto_run_lwt</span> : <code class="type">bool -> unit</code></pre><div class="info ">
Modifies <a href="UTop.html#VALauto_run_lwt"><code class="code"><span class="constructor">UTop</span>.auto_run_lwt</code></a>.<br>
</div>

<pre><span id="VALauto_run_async"><span class="keyword">val</span> auto_run_async</span> : <code class="type">bool React.signal</code></pre><div class="info ">
If <code class="code"><span class="keyword">true</span></code> (the default) toplevel Async expressions are
      automatically run with in a separate thread with
      <code class="code"><span class="constructor">Thread_safe</span>.block_on_async_exn</code>. i.e. if you type:
<p>

      <pre class="codepre"><code class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after&nbsp;(<span class="constructor">Time</span>.<span class="constructor">Span</span>.of_s&nbsp;1.0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></pre>
<p>

      this will be replaced by:
<p>

      <pre class="codepre"><code class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Thread_safe</span>.block_on_async_exn&nbsp;(<span class="keyword">fun</span>&nbsp;()&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;after&nbsp;(<span class="constructor">Time</span>.<span class="constructor">Span</span>.of_s&nbsp;1.0))<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></pre><br>
</div>

<pre><span id="VALget_auto_run_async"><span class="keyword">val</span> get_auto_run_async</span> : <code class="type">unit -> bool</code></pre><div class="info ">
Returns the value of <a href="UTop.html#VALauto_run_async"><code class="code"><span class="constructor">UTop</span>.auto_run_async</code></a>.<br>
</div>

<pre><span id="VALset_auto_run_async"><span class="keyword">val</span> set_auto_run_async</span> : <code class="type">bool -> unit</code></pre><div class="info ">
Modifies <a href="UTop.html#VALauto_run_async"><code class="code"><span class="constructor">UTop</span>.auto_run_async</code></a>.<br>
</div>
<br>
<h6 id="6_History">History</h6><br>

<pre><span id="VALhistory"><span class="keyword">val</span> history</span> : <code class="type">LTerm_history.t</code></pre><div class="info ">
The history used by utop. You can configure limits using the
      <code class="code"><span class="constructor">LTerm_history</span></code> module.
<p>

      For example if you want to limit the history to 1000 line, add
      these lines to your ~/.ocamlinit file:
<p>

      <pre class="codepre"><code class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">#</span>require&nbsp;<span class="string">"lambda-term"</span>;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">LTerm_history</span>.set_max_entries&nbsp;<span class="constructor">UTop</span>.history&nbsp;1000;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></pre><br>
</div>

<pre><span id="VALhistory_file_name"><span class="keyword">val</span> history_file_name</span> : <code class="type">string option Pervasives.ref</code></pre><div class="info ">
Name of the history file. If <code class="code"><span class="constructor">None</span></code>, no history will be loaded
      or saved.<br>
</div>

<pre><span id="VALhistory_file_max_size"><span class="keyword">val</span> history_file_max_size</span> : <code class="type">int option Pervasives.ref</code></pre><div class="info ">
Maximum size of the history file. If <code class="code"><span class="constructor">None</span></code> (the default) the
      maximum size of <code class="code">history</code> will be used.<br>
</div>

<pre><span id="VALhistory_file_max_entries"><span class="keyword">val</span> history_file_max_entries</span> : <code class="type">int option Pervasives.ref</code></pre><div class="info ">
Maximum entries to store in the history file. If <code class="code"><span class="constructor">None</span></code> (the
      default) the maximum number of entries if <code class="code">history</code> will be
      used.<br>
</div>
<br>
<h6 id="6_Consolespecificconfiguration">Console specific configuration</h6><br>

<pre><code><span id="TYPEprofile"><span class="keyword">type</span> <code class="type"></code>profile</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTprofile.Dark"><span class="constructor">Dark</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTprofile.Light"><span class="constructor">Light</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Profile for colors.<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>



<pre><span id="VALprofile"><span class="keyword">val</span> profile</span> : <code class="type"><a href="UTop.html#TYPEprofile">profile</a> React.signal</code></pre><div class="info ">
The color profile. It defaults to <code class="code"><span class="constructor">Dark</span></code>. This is used by the
      default prompt to choose colors.<br>
</div>

<pre><span id="VALset_profile"><span class="keyword">val</span> set_profile</span> : <code class="type"><a href="UTop.html#TYPEprofile">profile</a> -> unit</code></pre><div class="info ">
Sets the color profile.<br>
</div>

<pre><span id="VALsize"><span class="keyword">val</span> size</span> : <code class="type">LTerm_geom.size React.signal</code></pre><div class="info ">
The current size of the terminal. This is used only in the
      console UI.<br>
</div>

<pre><span id="VALkey_sequence"><span class="keyword">val</span> key_sequence</span> : <code class="type">LTerm_key.t list React.signal</code></pre><div class="info ">
The current key sequence entered by the user. This is used only
      in the console UI.<br>
</div>

<pre><span id="VALtime"><span class="keyword">val</span> time</span> : <code class="type">float Pervasives.ref</code></pre><div class="info ">
The time of the beginning of the current command.<br>
</div>

<pre><span id="VALprompt"><span class="keyword">val</span> prompt</span> : <code class="type">LTerm_text.t React.signal Pervasives.ref</code></pre><div class="info ">
The prompt.<br>
</div>
<br>
<h6 id="6_Hooks">Hooks</h6><br>

<pre><span id="VALnew_command_hooks"><span class="keyword">val</span> new_command_hooks</span> : <code class="type">(unit -> unit) Lwt_sequence.t</code></pre><div class="info ">
Functions called before each new command.<br>
</div>

<pre><span id="VALat_new_command"><span class="keyword">val</span> at_new_command</span> : <code class="type">(unit -> unit) -> unit</code></pre><div class="info ">
<code class="code">at_new_command f</code> adds <code class="code">f</code> to the hooks executed before each
      new commands.<br>
</div>
<br>
<h6 id="6_Parsing">Parsing</h6><br>

<pre><span id="TYPElocation"><span class="keyword">type</span> <code class="type"></code>location</span> = <code class="type">int * int</code> </pre>
<div class="info ">
Type of a string-location. It is composed of a start and stop
        offsets (in bytes).<br>
</div>


<pre><code><span id="TYPEresult"><span class="keyword">type</span> <code class="type">'a</code> result</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult.Value"><span class="constructor">Value</span></span> <span class="keyword">of</span> <code class="type">'a</code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
The function succeeded and returned this value.<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult.Error"><span class="constructor">Error</span></span> <span class="keyword">of</span> <code class="type"><a href="UTop.html#TYPElocation">location</a> list * string</code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
The function failed. Arguments are a list of locations to
          highlight in the source and an error message.<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
Result of a function processing a programx.<br>
</div>


<pre><span id="EXCEPTIONNeed_more"><span class="keyword">exception</span> Need_more</span></pre>
<div class="info ">
Exception raised by a parser when it need more data.<br>
</div>

<pre><span id="VALparse_use_file"><span class="keyword">val</span> parse_use_file</span> : <code class="type">(string -> bool -> Parsetree.toplevel_phrase list <a href="UTop.html#TYPEresult">result</a>) Pervasives.ref</code></pre>
<pre><span id="VALparse_use_file_default"><span class="keyword">val</span> parse_use_file_default</span> : <code class="type">string -> bool -> Parsetree.toplevel_phrase list <a href="UTop.html#TYPEresult">result</a></code></pre><div class="info ">
The default parser for toplevel regions. It uses the standard
      ocaml parser.<br>
</div>

<pre><span id="VALparse_toplevel_phrase"><span class="keyword">val</span> parse_toplevel_phrase</span> : <code class="type">(string -> bool -> Parsetree.toplevel_phrase <a href="UTop.html#TYPEresult">result</a>) Pervasives.ref</code></pre><div class="info ">
<code class="code">parse_toplevel_phrase</code> is the function used to parse a phrase
      typed in the toplevel.
<p>

      Its arguments are:<ul>
<li><code class="code">input</code>: the string to parse</li>
<li><code class="code">eos_is_error</code></li>
</ul>

      If <code class="code">eos_is_error</code> is <code class="code"><span class="keyword">true</span></code> and the parser reach the end of
      input, then <code class="code"><span class="constructor">Parse_failure</span></code> should be returned.
<p>

      If <code class="code">eos_is_error</code> is <code class="code"><span class="keyword">false</span></code> and the parser reach the end of
      input, the exception <a href="UTop.html#EXCEPTIONNeed_more"><code class="code"><span class="constructor">UTop</span>.<span class="constructor">Need_more</span></code></a> must be thrown.
<p>

      Except for <a href="UTop.html#EXCEPTIONNeed_more"><code class="code"><span class="constructor">UTop</span>.<span class="constructor">Need_more</span></code></a>, the function must not raise any
      exception.<br>
</div>

<pre><span id="VALparse_toplevel_phrase_default"><span class="keyword">val</span> parse_toplevel_phrase_default</span> : <code class="type">string -> bool -> Parsetree.toplevel_phrase <a href="UTop.html#TYPEresult">result</a></code></pre><div class="info ">
The default parser for toplevel phrases. It uses the standard
      ocaml parser.<br>
</div>

<pre><span id="VALparse_default"><span class="keyword">val</span> parse_default</span> : <code class="type">(Lexing.lexbuf -> 'a) -> string -> bool -> 'a <a href="UTop.html#TYPEresult">result</a></code></pre><div class="info ">
The default parser. It uses the standard ocaml parser.<br>
</div>

<pre><span id="VALinput_name"><span class="keyword">val</span> input_name</span> : <code class="type">string</code></pre><div class="info ">
The name you must use in location to let ocaml know that it is
      from the toplevel.<br>
</div>

<pre><span id="VALlexbuf_of_string"><span class="keyword">val</span> lexbuf_of_string</span> : <code class="type">bool Pervasives.ref -> string -> Lexing.lexbuf</code></pre><div class="info ">
<code class="code">lexbuf_of_string eof str</code> is the same as <code class="code"><span class="constructor">Lexing</span>.from_string
      str</code> except that if the lexer reach the end of <code class="code">str</code> then <code class="code">eof</code> is
      set to <code class="code"><span class="keyword">true</span></code>.<br>
</div>
<br>
<h6 id="6_Helpers">Helpers</h6><br>

<pre><span id="VALget_message"><span class="keyword">val</span> get_message</span> : <code class="type">(Format.formatter -> 'a -> unit) -> 'a -> string</code></pre><div class="info ">
<code class="code">get_message printer x</code> applies <code class="code">printer</code> on <code class="code">x</code> and
      returns everything it prints as a string.<br>
</div>

<pre><span id="VALget_ocaml_error_message"><span class="keyword">val</span> get_ocaml_error_message</span> : <code class="type">exn -> <a href="UTop.html#TYPElocation">location</a> * string</code></pre><div class="info ">
<code class="code">get_ocaml_error_message exn</code> returns the location and error
      message for the exception <code class="code">exn</code> which must be an exception from
      the compiler.<br>
</div>

<pre><span id="VALcheck_phrase"><span class="keyword">val</span> check_phrase</span> : <code class="type">Parsetree.toplevel_phrase -> (<a href="UTop.html#TYPElocation">location</a> list * string) option</code></pre><div class="info ">
<code class="code">check_phrase phrase</code> checks that <code class="code">phrase</code> can be executed
      without typing or compilation errors. It returns <code class="code"><span class="constructor">None</span></code> if
      <code class="code">phrase</code> is OK and an error message otherwise.
<p>

      If the result is <code class="code"><span class="constructor">None</span></code> it is guaranteed that
      <code class="code"><span class="constructor">Toploop</span>.execute_phrase</code> won't raise any exception.<br>
</div>

<pre><span id="VALcollect_formatters"><span class="keyword">val</span> collect_formatters</span> : <code class="type">Buffer.t -> Format.formatter list -> (unit -> 'a) -> 'a</code></pre><div class="info ">
<code class="code">collect_formatters buf pps f</code> executes <code class="code">f</code> and redirect
      everything it prints on <code class="code">pps</code> to <code class="code">buf</code>.<br>
</div>

<pre><span id="VALdiscard_formatters"><span class="keyword">val</span> discard_formatters</span> : <code class="type">Format.formatter list -> (unit -> 'a) -> 'a</code></pre><div class="info ">
<code class="code">discard_formatters pps f</code> executes <code class="code">f</code>, dropping everything it
      prints on <code class="code">pps</code>.<br>
</div>

<pre><span id="VALsplit_words"><span class="keyword">val</span> split_words</span> : <code class="type">string -> string list</code></pre></body></html>